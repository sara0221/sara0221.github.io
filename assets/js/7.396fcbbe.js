(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{215:function(t,v,_){"use strict";_.r(v);var a=_(0),s=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"性能优化随笔"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#性能优化随笔"}},[t._v("#")]),t._v(" 性能优化随笔")]),t._v(" "),_("p",[t._v("性能优化是web开发中常见的问题。简单谈谈常见的方案")]),t._v(" "),_("h2",{attrs:{id:"优化策略"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#优化策略"}},[t._v("#")]),t._v(" 优化策略")]),t._v(" "),_("ol",[_("li",[t._v("确定性能优化标准，制定性能优化目标")]),t._v(" "),_("li",[t._v("使用工具查找瓶颈")]),t._v(" "),_("li",[t._v("方案进行评估")]),t._v(" "),_("li",[t._v("实施性能优化")]),t._v(" "),_("li",[t._v("数据监控性能变化")])]),t._v(" "),_("h2",{attrs:{id:"性能瓶颈分析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#性能瓶颈分析"}},[t._v("#")]),t._v(" 性能瓶颈分析")]),t._v(" "),_("p",[t._v("可以通过 Chromde Devtools Lighthouse 来分析个例情况。公司内部的话考虑通过引入集团或者公司的性能监控脚本查看大样本量的指标情况。")]),t._v(" "),_("h2",{attrs:{id:"常规的优化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常规的优化"}},[t._v("#")]),t._v(" 常规的优化")]),t._v(" "),_("ol",[_("li",[t._v("静态资源优化（文件压缩，合并请求，上CDN）")]),t._v(" "),_("li",[t._v("开发规范： 业务脚本放在末尾插入。图片资源进行懒加载、上webp，指定合适的图片尺寸、质量）")]),t._v(" "),_("li",[t._v("http 优化： dns prefetch 等常规策略")]),t._v(" "),_("li",[t._v("缓存： 非千人千面的部分，进行服务端缓存、服务端接口缓存等提升响应速度。端内借助APP的能力，针对静态资源进行离线缓存")]),t._v(" "),_("li",[t._v("上 SSR 进行 html 直出")]),t._v(" "),_("li",[t._v("上骨架屏，避免用户等待白屏")])]),t._v(" "),_("p",[t._v("不难看出，性能优化不局限在前端本身：需要借助平台整体的能力，做上下游的推动，不限于服务端、客户端、交互等形式上的优化。")]),t._v(" "),_("p",[t._v("以B站举个例子")]),t._v(" "),_("ol",[_("li",[t._v("交互上：优化产品方案，就能在体验上给予用户快的感觉")]),t._v(" "),_("li",[t._v("播放器：优化了播放器，采用了新的MPEG-DASH方案")]),t._v(" "),_("li",[t._v("服务端：接入 ssr，加速渲染")])]),t._v(" "),_("h2",{attrs:{id:"总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),_("p",[t._v("如果业务达不到业界的性能标准的话，性能优化是一件非常有必要的事情。在此基础上的追求极致，实质上投入了更多的人力，需要分析来看ROI是否合理。\n另外优化需要追求一个平衡点，或者说一个取舍方案。比如预加载请求方案，本质都是牺牲了用户的带宽流量,缓存方案也是牺牲了数据的实时准确性（虽然很多时候并不必要）。具体方案要根据实际情况再做分析选择。")])])}),[],!1,null,null,null);v.default=s.exports}}]);